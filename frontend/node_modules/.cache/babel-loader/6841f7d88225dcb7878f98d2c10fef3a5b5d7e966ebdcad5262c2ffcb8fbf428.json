{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst apiUrl = \"http://localhost:8000/api/user/login/\";\nexport const loginUser = createAsyncThunk(\"user/loginUser\", async data => {\n  try {\n    console.log(data);\n    const response = await axios.post(`${apiUrl}`, data);\n    console.log(response);\n    if (response) {\n      localStorage.setItem(\"user\", JSON.stringify(response));\n      localStorage.setItem(\"sessionId\", response.data.sessionId);\n      return {\n        user: response.data.user,\n        sessionId: response.data.sessionId\n      };\n    }\n  } catch (error) {\n    throw new Error(\"Login failed\");\n  }\n});\nconst initialState = {\n  loading: false,\n  user: null,\n  error: null,\n  sessionId: null\n};\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  extraReducers: builder => {\n    builder.addCase(loginUser.pending, state => {\n      state.loading = true;\n      state.user = null;\n      state.error = null;\n      state.sessionId = null;\n    }).addCase(loginUser.fulfilled, (state, action) => {\n      state.loading = false;\n      state.user = action.payload.data;\n      state.error = null;\n      state.sessionId = action.payload.sessionId;\n    }).addCase(loginUser.rejected, state => {\n      state.loading = false;\n      state.user = null;\n      state.sessionId = null;\n      state.error = \"Username or password is incorrect\";\n    });\n  }\n});\nexport default userSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","apiUrl","loginUser","data","console","log","response","post","localStorage","setItem","JSON","stringify","sessionId","user","error","Error","initialState","loading","userSlice","name","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","reducer"],"sources":["/Users/nino/Desktop/app/quiz_API/quiz_project/frontend/src/store/login/UserSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nconst apiUrl = \"http://localhost:8000/api/user/login/\";\n\nexport const loginUser = createAsyncThunk(\"user/loginUser\", async (data) => {\n  try {\n    console.log(data);\n\n    const response = await axios.post(`${apiUrl}`, data);\n    console.log(response);\n\n    if (response) {\n      localStorage.setItem(\"user\", JSON.stringify(response));\n      localStorage.setItem(\"sessionId\", response.data.sessionId);\n      return { user: response.data.user, sessionId: response.data.sessionId };\n\n    }\n  } catch (error) {\n    throw new Error(\"Login failed\");\n  }\n});\n\nconst initialState = {\n  loading: false,\n  user: null,\n  error: null,\n  sessionId: null,\n};\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  extraReducers: (builder) => {\n    builder\n      .addCase(loginUser.pending, (state) => {\n        state.loading = true;\n        state.user = null;\n        state.error = null;\n        state.sessionId = null;\n\n      })\n      .addCase(loginUser.fulfilled, (state, action) => {\n        state.loading = false;\n        state.user = action.payload.data;\n        state.error = null;\n        state.sessionId = action.payload.sessionId;\n\n      })\n      .addCase(loginUser.rejected, (state) => {\n        state.loading = false;\n        state.user = null;\n        state.sessionId = null;\n\n        state.error = \"Username or password is incorrect\";\n      });\n  },\n});\n\nexport default userSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,MAAM,GAAG,uCAAuC;AAEtD,OAAO,MAAMC,SAAS,GAAGJ,gBAAgB,CAAC,gBAAgB,EAAE,MAAOK,IAAI,IAAK;EAC1E,IAAI;IACFC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IAEjB,MAAMG,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAE,GAAEN,MAAO,EAAC,EAAEE,IAAI,CAAC;IACpDC,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;IAErB,IAAIA,QAAQ,EAAE;MACZE,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,QAAQ,CAAC,CAAC;MACtDE,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEH,QAAQ,CAACH,IAAI,CAACS,SAAS,CAAC;MAC1D,OAAO;QAAEC,IAAI,EAAEP,QAAQ,CAACH,IAAI,CAACU,IAAI;QAAED,SAAS,EAAEN,QAAQ,CAACH,IAAI,CAACS;MAAU,CAAC;IAEzE;EACF,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;EACjC;AACF,CAAC,CAAC;AAEF,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EACdJ,IAAI,EAAE,IAAI;EACVC,KAAK,EAAE,IAAI;EACXF,SAAS,EAAE;AACb,CAAC;AAED,MAAMM,SAAS,GAAGnB,WAAW,CAAC;EAC5BoB,IAAI,EAAE,MAAM;EACZH,YAAY;EACZI,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACpB,SAAS,CAACqB,OAAO,EAAGC,KAAK,IAAK;MACrCA,KAAK,CAACP,OAAO,GAAG,IAAI;MACpBO,KAAK,CAACX,IAAI,GAAG,IAAI;MACjBW,KAAK,CAACV,KAAK,GAAG,IAAI;MAClBU,KAAK,CAACZ,SAAS,GAAG,IAAI;IAExB,CAAC,CAAC,CACDU,OAAO,CAACpB,SAAS,CAACuB,SAAS,EAAE,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC/CF,KAAK,CAACP,OAAO,GAAG,KAAK;MACrBO,KAAK,CAACX,IAAI,GAAGa,MAAM,CAACC,OAAO,CAACxB,IAAI;MAChCqB,KAAK,CAACV,KAAK,GAAG,IAAI;MAClBU,KAAK,CAACZ,SAAS,GAAGc,MAAM,CAACC,OAAO,CAACf,SAAS;IAE5C,CAAC,CAAC,CACDU,OAAO,CAACpB,SAAS,CAAC0B,QAAQ,EAAGJ,KAAK,IAAK;MACtCA,KAAK,CAACP,OAAO,GAAG,KAAK;MACrBO,KAAK,CAACX,IAAI,GAAG,IAAI;MACjBW,KAAK,CAACZ,SAAS,GAAG,IAAI;MAEtBY,KAAK,CAACV,KAAK,GAAG,mCAAmC;IACnD,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAeI,SAAS,CAACW,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}