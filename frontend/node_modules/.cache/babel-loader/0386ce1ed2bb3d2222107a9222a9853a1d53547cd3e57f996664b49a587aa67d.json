{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nexport const createData = createAsyncThunk(\"createData\", async (singUpData, thunkAPI) => {\n  console.log(singUpData);\n  try {\n    const response = await fetch(\"http://localhost:8000/api/user/register/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      // Move withCredentials option here\n      body: JSON.stringify(signUpData)\n    });\n    const data = await response.json();\n    console.log(data, \"THUNK DATA\");\n    return thunkAPI.fulfillWithValue(data);\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message, \"THUNK BLOCK\");\n  }\n});\nexport const fetchUserData = createAsyncThunk(\"fetchUserData/data\", async (_, thunkAPI) => {\n  try {\n    const response = await fetch(\"https://crudapi.co.uk/api/v1/singupData\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`\n      }\n    });\n    if (!response.ok) throw new Error(`BAD RESPONSE`);\n    const data = await response.json();\n    return thunkAPI.fulfillWithValue(data.items);\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\nexport const deleteUser = createAsyncThunk(\"deleteUser\", async (id, thunkAPI) => {\n  try {\n    const response = await fetch(`https://crudapi.co.uk/api/v1/singupData/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`\n      }\n    });\n    if (!response.ok) console.log(`BAD RESPONSE`);\n    const data = response.json();\n    const deleted = data.items.filter(rest => rest._uuid !== id);\n    console.log(deleted, \"TELEDET\");\n    return thunkAPI.dispatch(deleted);\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","createData","singUpData","thunkAPI","console","log","response","fetch","method","headers","credentials","body","JSON","stringify","signUpData","data","json","fulfillWithValue","error","rejectWithValue","message","fetchUserData","_","Authorization","process","env","REACT_APP_API_KEY","ok","Error","items","deleteUser","id","deleted","filter","rest","_uuid","dispatch"],"sources":["/Users/nino/Desktop/app/quiz_API/quiz_project/frontend/src/store/signup/createData.thunk.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\n\nexport const createData = createAsyncThunk(\n  \"createData\",\n  async (singUpData, thunkAPI) => {\n    console.log(singUpData);\n    try {\n      const response = await fetch(\"http://localhost:8000/api/user/register/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        credentials: \"include\", // Move withCredentials option here\n        body: JSON.stringify(signUpData),\n      });\n      const data = await response.json();\n      console.log(data, \"THUNK DATA\");\n      return thunkAPI.fulfillWithValue(data);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message, \"THUNK BLOCK\");\n    }\n  }\n);\n\nexport const fetchUserData = createAsyncThunk(\n  \"fetchUserData/data\",\n  async (_, thunkAPI) => {\n    try {\n      const response = await fetch(\"https://crudapi.co.uk/api/v1/singupData\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`,\n        },\n      });\n\n      if (!response.ok) throw new Error(`BAD RESPONSE`);\n      const data = await response.json();\n      return thunkAPI.fulfillWithValue(data.items);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const deleteUser = createAsyncThunk(\n  \"deleteUser\",\n  async (id, thunkAPI) => {\n    try {\n      const response = await fetch(\n        `https://crudapi.co.uk/api/v1/singupData/${id}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`,\n          },\n        }\n      );\n\n      if (!response.ok) console.log(`BAD RESPONSE`);\n      const data = response.json();\n      const deleted = data.items.filter((rest) => rest._uuid !== id);\n\n      console.log(deleted, \"TELEDET\");\n      return thunkAPI.dispatch(deleted);\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AAEnD,OAAO,MAAMC,UAAU,GAAGD,gBAAgB,CACxC,YAAY,EACZ,OAAOE,UAAU,EAAEC,QAAQ,KAAK;EAC9BC,OAAO,CAACC,GAAG,CAACH,UAAU,CAAC;EACvB,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,0CAA0C,EAAE;MACvEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,WAAW,EAAE,SAAS;MAAE;MACxBC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACC,UAAU;IACjC,CAAC,CAAC;IACF,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAClCZ,OAAO,CAACC,GAAG,CAACU,IAAI,EAAE,YAAY,CAAC;IAC/B,OAAOZ,QAAQ,CAACc,gBAAgB,CAACF,IAAI,CAAC;EACxC,CAAC,CAAC,OAAOG,KAAK,EAAE;IACd,OAAOf,QAAQ,CAACgB,eAAe,CAACD,KAAK,CAACE,OAAO,EAAE,aAAa,CAAC;EAC/D;AACF,CACF,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGrB,gBAAgB,CAC3C,oBAAoB,EACpB,OAAOsB,CAAC,EAAEnB,QAAQ,KAAK;EACrB,IAAI;IACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,yCAAyC,EAAE;MACtEC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCc,aAAa,EAAG,UAASC,OAAO,CAACC,GAAG,CAACC,iBAAkB;MACzD;IACF,CAAC,CAAC;IAEF,IAAI,CAACpB,QAAQ,CAACqB,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAE,cAAa,CAAC;IACjD,MAAMb,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAClC,OAAOb,QAAQ,CAACc,gBAAgB,CAACF,IAAI,CAACc,KAAK,CAAC;EAC9C,CAAC,CAAC,OAAOX,KAAK,EAAE;IACd,OAAOf,QAAQ,CAACgB,eAAe,CAACD,KAAK,CAACE,OAAO,CAAC;EAChD;AACF,CACF,CAAC;AAED,OAAO,MAAMU,UAAU,GAAG9B,gBAAgB,CACxC,YAAY,EACZ,OAAO+B,EAAE,EAAE5B,QAAQ,KAAK;EACtB,IAAI;IACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CACzB,2CAA0CwB,EAAG,EAAC,EAC/C;MACEvB,MAAM,EAAE,QAAQ;MAChBC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCc,aAAa,EAAG,UAASC,OAAO,CAACC,GAAG,CAACC,iBAAkB;MACzD;IACF,CACF,CAAC;IAED,IAAI,CAACpB,QAAQ,CAACqB,EAAE,EAAEvB,OAAO,CAACC,GAAG,CAAE,cAAa,CAAC;IAC7C,MAAMU,IAAI,GAAGT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAC5B,MAAMgB,OAAO,GAAGjB,IAAI,CAACc,KAAK,CAACI,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,KAAK,KAAKJ,EAAE,CAAC;IAE9D3B,OAAO,CAACC,GAAG,CAAC2B,OAAO,EAAE,SAAS,CAAC;IAC/B,OAAO7B,QAAQ,CAACiC,QAAQ,CAACJ,OAAO,CAAC;EACnC,CAAC,CAAC,OAAOd,KAAK,EAAE;IACd,OAAOf,QAAQ,CAACgB,eAAe,CAACD,KAAK,CAACE,OAAO,CAAC;EAChD;AACF,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}